@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    int n = (int)(ViewBag.N ?? 0);
    string sort = (string)ViewBag.Sort ?? "";
}

<h2>Экспорт категорий в JSON</h2>

<form asp-action="Export" method="post" class="form-inline mb-3">
    <div class="form-group mr-2">
        <label>
            Макс. количество:&nbsp;
            <input type="number" name="n" value="@n" min="0"
                   class="form-control" style="width:80px" />
        </label>
    </div>
    <div class="form-group mr-2">
        <label>
            Сортировать по:&nbsp;
            <select name="sort" class="form-control">
                <option value="" selected="@(string.IsNullOrEmpty(sort) ? "selected" : null)">Id</option>
                <option value="Title" selected="@(sort == "Title" ? "selected" : null)">Title</option>
                <option value="Description" selected="@(sort == "Description" ? "selected" : null)">Description</option>
            </select>
        </label>
    </div>
    <button type="submit" class="btn btn-primary">Скачать JSON</button>
    <a asp-controller="Category" asp-action="All" class="btn btn-secondary ml-3">К списку категорий</a>
    <a asp-controller="Home" asp-action="Index" class="btn btn-secondary ml-2">Главная</a>
</form>
